{"version":3,"file":"LibAvatar.stories-cbb8ad3d.js","sources":["../../src/library/LibAvatar/LibAvatar.vue"],"sourcesContent":["<script setup lang='ts'>\r\nimport { computed, ref } from 'vue'\r\nimport LibCircularLoader from '@lib/LibCircularLoader/LibCircularLoader.vue'\r\nimport EditIcon          from '@/components/Icons/EditIcon.vue'\r\n\r\ninterface Props {\r\n    /**\r\n     * The alternative text for the image\r\n     */\r\n    alt: string;\r\n\r\n    /**\r\n     * The source URL of the image\r\n     */\r\n    src?: string | null;\r\n\r\n    /**\r\n     * The size of the image: 'big', 'medium', or 'small'\r\n     */\r\n    size?: 'big' | 'medium' | 'small';\r\n\r\n    /**\r\n     * Enables editing overlay for the avatar\r\n     */\r\n    editable?: boolean;\r\n\r\n    /**\r\n     * Displays a loading state\r\n     */\r\n    isLoading?: boolean;\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n    size: 'big',\r\n    src: null,\r\n    editable: false,\r\n    isLoading: false,\r\n});\r\n\r\nconst fileUploader = ref<HTMLInputElement | null>(null)\r\n\r\nconst emit = defineEmits<{\r\n    (e: 'fileChange', file: File): File;\r\n}>()\r\n\r\nconst sizeImageClasses = computed((): Record<string, boolean> => ({\r\n    'w-40 h-40': props.size === 'big',\r\n    'w-20 h-20': props.size === 'medium',\r\n    'w-10 h-10': props.size === 'small'\r\n}))\r\n\r\nconst openFileUploader = (): void => {\r\n    fileUploader.value?.click()\r\n}\r\n\r\nconst emitUploadedFile = (): void => {\r\n    const fileUploaderElement = fileUploader.value\r\n\r\n    if (!fileUploaderElement?.files) {\r\n        return\r\n    }\r\n\r\n    const file = fileUploaderElement.files.length > 0 ? fileUploaderElement.files[0] : null\r\n\r\n    if (file) {\r\n        emit('fileChange', file)\r\n    }\r\n}\r\n</script>\r\n\r\n<template>\r\n    <div class='flex relative justify-center'>\r\n        <input\r\n            v-if='editable'\r\n            ref='fileUploader'\r\n            accept='.jpg, .png, .jpeg'\r\n            type='file'\r\n            class='hidden'\r\n            @change='emitUploadedFile'\r\n        />\r\n        <div\r\n            v-if='editable'\r\n            :class='sizeImageClasses'\r\n            class='select-none cursor-pointer rounded-full flex justify-center pb-2 items-end absolute text-brand-text-primary bg-gradient-to-t from-brand-primary from-10% via-transparent via-40% to-transparent'\r\n            @click='openFileUploader'\r\n        >\r\n            <div\r\n                v-if='!isLoading'\r\n                class='flex items-center justify-center gap-1'\r\n            >\r\n               <edit-icon /> Edit\r\n            </div>\r\n        </div>\r\n        <img\r\n            v-if='src && !isLoading'\r\n            :class='sizeImageClasses'\r\n            class='rounded-full ring-brand-white object-cover shadow-xl'\r\n            :src='src'\r\n            :alt='props.alt'\r\n        />\r\n        <svg\r\n            v-else-if='!isLoading'\r\n            :class='sizeImageClasses'\r\n            class='rounded-full text-gray-400 bg-gray-300 ring-brand-white border-white border'\r\n            fill='currentColor'\r\n            viewBox='0 0 20 20'\r\n            xmlns='http://www.w3.org/2000/svg'\r\n        >\r\n            <path\r\n                fill-rule='evenodd' d='M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z'\r\n                clip-rule='evenodd'\r\n            />\r\n        </svg>\r\n        <div\r\n            v-else-if='isLoading'\r\n            :class='sizeImageClasses'\r\n            class='rounded-full bg-gray-200 ring-brand-white border-white border flex items-center justify-center'\r\n        />\r\n        <lib-circular-loader\r\n            v-if='isLoading'\r\n            class='absolute top-0'\r\n        />\r\n    </div>\r\n</template>"],"names":["fileUploader","ref","sizeImageClasses","computed","props","openFileUploader","_a","emitUploadedFile","fileUploaderElement","file","emit"],"mappings":"ssBAuCMA,EAAeC,EAA6B,IAAI,EAMhDC,EAAmBC,EAAS,KAAgC,CAC9D,YAAaC,EAAM,OAAS,MAC5B,YAAaA,EAAM,OAAS,SAC5B,YAAaA,EAAM,OAAS,OAC9B,EAAA,EAEIC,EAAmB,IAAY,QACjCC,EAAAN,EAAa,QAAb,MAAAM,EAAoB,OAAM,EAGxBC,EAAmB,IAAY,CACjC,MAAMC,EAAsBR,EAAa,MAErC,GAAA,EAACQ,GAAA,MAAAA,EAAqB,OACtB,OAGE,MAAAC,EAAOD,EAAoB,MAAM,OAAS,EAAIA,EAAoB,MAAM,CAAC,EAAI,KAE/EC,GACAC,EAAK,aAAcD,CAAI,CAC3B;;;;;;;;;;;;;;;;;;;;"}